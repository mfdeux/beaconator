(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["properties"],{c58a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex justify-end"},[n("button",{staticClass:"flex items-center pl-3 pr-4 py-2 bg-primary hover:bg-primary-dark text-white font-bold rounded-full transition duration-300 ease-out",on:{click:function(t){e.showAddModal=!0}}},[n("plus-icon",{staticClass:"mr-1"}),e._v("Add ")],1)]),e.properties?n("div",{staticClass:"mt-6"},[e.properties.length>0?n("div",e._l(e.properties,(function(t){return n("property-card",{key:t.id,staticClass:"mt-4",attrs:{property:t},on:{edit:function(n){return e.onEditReq(t)},delete:function(n){return e.onDelete(t.id)}}})})),1):n("div",{staticClass:"px-4 py-4 text-center bg-gray-200 rounded-lg"},[n("p",{staticClass:"text-gray-600"},[e._v(" No properties were found ")])])]):n("div"),n("form-modal",{attrs:{open:e.showAddModal,"initial-data":e.editing,form:e.form,title:e.editing?"Edit Property":"Add Property"},on:{"update:open":function(t){e.showAddModal=t},input:e.onSubmit}})],1)},o=[],a=(n("99af"),n("4de4"),n("c740"),n("d81d"),n("b0c0"),n("96cf"),n("1da1")),i=n("a8dc"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("div",[n("label",[e._v("Name")]),n("form-input",{attrs:{id:"username",required:""},model:{value:e.form.input.name,callback:function(t){e.$set(e.form.input,"name",t)},expression:"form.input.name"}}),e.$v.form.input.name.$error?n("ul",{staticClass:"error"},[e.$v.form.input.name.required?e._e():n("li",[e._v(" This field is required. ")])]):e._e()],1),n("div",{staticClass:"mt-4"},[n("label",[e._v("Image")]),n("form-select",{attrs:{options:e.form.options.images},model:{value:e.form.input.image,callback:function(t){e.$set(e.form.input,"image",t)},expression:"form.input.image"}})],1),n("div",{staticClass:"mt-4"},["pixel"===e.form.input.image?n("p",{staticClass:"text-sm text-gray-500"},[e._v(" A pixel is a 1x1 image, you will not be able to see it. ")]):e._e(),n("img",{attrs:{src:"http://127.0.0.1:8000/api/other/images?type="+e.form.input.image}})]),n("div",{staticClass:"mt-4"},[n("label",[e._v("Code")]),n("form-select",{attrs:{options:e.$store.state.options.codes},model:{value:e.form.input.ga_code_id,callback:function(t){e.$set(e.form.input,"ga_code_id",t)},expression:"form.input.ga_code_id"}}),e.$v.form.input.ga_code_id.$error?n("ul",{staticClass:"error"},[e.$v.form.input.ga_code_id.required?e._e():n("li",[e._v(" This field is required. ")])]):e._e()],1),n("div",{staticClass:"mt-4"},[n("label",[e._v("Extra Params")]),n("form-textarea",{model:{value:e.form.input.extra_params,callback:function(t){e.$set(e.form.input,"extra_params",t)},expression:"form.input.extra_params"}})],1),n("div",{staticClass:"mt-6"},[n("label",[e._v("Active")]),n("form-switch",{model:{value:e.form.input.active,callback:function(t){e.$set(e.form.input,"active",t)},expression:"form.input.active"}})],1),e._m(0)])])},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-6"},[n("button",{attrs:{type:"submit"}},[e._v(" Save ")])])}],c=n("b5ae"),l=n("e49c"),p=n("86f5"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full flex justify-start appearance-none block w-full px-3 py-3 mb-3 focus:outline-none bg-transparent rounded-lg border-2 bg-transparent transition duration-300 ease-out",class:[e.focus?"shadow-input":null,e.hover?"shadow-input":null]},[n("select",{key:e.selectKey,staticClass:"rounded-none",class:["flex-grow focus:outline-none bg-transparent"],attrs:{id:e.id},domProps:{value:e.value},on:{focus:function(t){e.focus=!0},blur:function(t){e.focus=!1},mouseover:function(t){e.hover=!0},mouseout:function(t){e.hover=!1},input:e.handleInput}},e._l(e.formattedOptions,(function(t,r){return n("option",{key:r,domProps:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),0)])},m=[],f=n("2909"),v={name:"FormSelect",props:{options:{type:Array},placeholder:{type:String},status:{type:String},value:{type:String}},data:function(){return{id:null,selectKey:null,focus:!1,hover:!1}},computed:{formattedOptions:function(){return this.placeholder?[{name:this.placeholder,value:null,disabled:!0}].concat(Object(f["a"])(this.options)):this.options}},watch:{options:function(e,t){this.$forceUpdate()}},mounted:function(){this.id=this._uid,this.selectKey=this._uid},methods:{handleInput:function(e){this.$emit("input",e.target.value)}}},g=v,h=n("2877"),b=Object(h["a"])(g,d,m,!1,null,null,null),x=b.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("textarea",{staticClass:"rounded-none",class:["appearance-none block w-full px-3 py-3 mb-3 focus:outline-none bg-transparent rounded-lg border-2 bg-transparent transition duration-300 ease-out","error"===e.status?"border-red":"border-gray-200",e.tooLong?"long":null,e.focus?"shadow-input":null,e.hover?"shadow-input":null],domProps:{value:e.value},on:{focus:function(t){e.focus=!0},blur:function(t){e.focus=!1},mouseover:function(t){e.hover=!0},mouseout:function(t){e.hover=!1},input:function(t){return e.$emit("input",t.target.value)}}})},y=[],w={name:"FormTextarea",props:{status:{type:String},value:{type:String},tooLong:{type:Boolean,default:!1}},data:function(){return{focus:!1,hover:!1}}},C=w,k=Object(h["a"])(C,_,y,!1,null,null,null),$=k.exports,O=n("bf3c"),j={components:{FormInput:p["a"],FormSelect:x,FormTextarea:$,FormSwitch:O["a"]},mixins:[l["a"]],data:function(){return{form:{input:{name:null,image:"pixel",ga_code_id:null,extra_params:null,active:!0},options:{images:[{value:"pixel",name:"Pixel"},{value:"gif",name:"GIF"},{value:"flat",name:"Flat"},{value:"flat-gif",name:"Flat GIF"}]}}}},validations:{form:{input:{name:{required:c["required"]},ga_code_id:{required:c["required"]}}}}},P=j,A=Object(h["a"])(P,s,u,!1,null,null,null),S=A.exports,E=n("5a40"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-4 py-6 shadow rounded-lg flex items-center justify-between"},[n("div",{},[n("p",{staticClass:"text-lg font-semibold"},[e._v(" "+e._s(e.property.name)+" ")]),n("p",{staticClass:"text-md text-gray-600 font-medium mt-2"},[e._v(" "+e._s(e.property.ga_code.name)+": "+e._s(e.property.ga_code.code)+" ")]),n("a",{staticClass:"text-sm font-medium text-gray-600 underline",attrs:{href:e.url,target:"_blank"}},[e._v(" "+e._s(e.url)+" ")])]),n("div",{staticClass:"flex items-center"},[n("button",{staticClass:"flex items-center py-1 px-1 bg-gray-200 hover:bg-gray-300 outline-none focus:outline-none",on:{click:e.onCopy}},[n("clipboard-text-outline-icon")],1),n("button",{staticClass:"ml-2 flex items-center py-1 px-1 bg-gray-200 hover:bg-gray-300 outline-none focus:outline-none",on:{click:function(t){return e.$emit("edit")}}},[n("pencil-outline-icon")],1),n("button",{staticClass:"ml-2 flex items-center py-1 px-1 bg-gray-200 hover:bg-gray-300 outline-none focus:outline-none",on:{click:function(t){return e.$emit("delete")}}},[n("trash-can-outline-icon")],1)])])},q=[],F={props:{property:{type:Object}},computed:{url:function(){return window.location.port?"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/images/").concat(this.property.code):"".concat(window.location.protocol,"//").concat(window.location.hostname,"/images/").concat(this.property.code)}},methods:{onCopy:function(){this.$copyText(this.url)}}},I=F,T=Object(h["a"])(I,R,q,!1,null,null,null),M=T.exports,D={components:{FormModal:E["a"],PropertyCard:M},data:function(){return{properties:null,form:S,showAddModal:!1,editing:null}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].getProperties();case 3:n=t.sent,r=n.data,e.properties=r,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:return t.prev=11,t.next=14,i["a"].getCodes();case 14:o=t.sent,a=o.data,s=a.map((function(e){return{value:e.id,name:"".concat(e.name," (").concat(e.code,")")}})),e.$store.commit("UPDATE_CODE_OPTIONS",s),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](11),console.log(t.t1);case 23:case"end":return t.stop()}}),t,null,[[0,8],[11,20]])})))()},methods:{onSubmit:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.editing){n.next=5;break}return n.next=3,t.onUpdate(t.editing.id,e);case 3:n.next=7;break;case 5:return n.next=7,t.onAdd(e);case 7:case"end":return n.stop()}}),n)})))()},onAdd:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i["a"].createProperty(e);case 3:r=n.sent,o=r.data,t.properties?t.properties.push(o):t.properties=[o],n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},onUpdate:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i["a"].updateProperty(e,t);case 3:o=r.sent,a=o.data,n.editing=null,s=n.properties.findIndex((function(t){return t.id===e})),n.properties[s]=a,r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},onEditReq:function(e){this.editing=e,this.showAddModal=!0},onDelete:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i["a"].deleteProperty(e);case 3:r=n.sent,r.data,t.properties=t.properties.filter((function(t){return t.id!==e})),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},head:function(){return{title:"Properties"}}},U=D,K=Object(h["a"])(U,r,o,!1,null,null,null);t["default"]=K.exports},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,a=n("1dde"),i=n("ae40"),s=a("map"),u=i("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=properties.30e528b9.js.map