(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["codes"],{5046:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex justify-end"},[n("button",{staticClass:"flex items-center pl-3 pr-4 py-2 bg-primary hover:bg-primary-dark text-white font-bold rounded-full transition duration-300 ease-out",on:{click:function(t){e.showAddModal=!0}}},[n("plus-icon",{staticClass:"mr-1"}),e._v("Add ")],1)]),e.codes?n("div",{staticClass:"mt-6"},[e.codes.length>0?n("div",e._l(e.codes,(function(t){return n("code-card",{key:t.id,staticClass:"mt-4",attrs:{code:t},on:{edit:function(n){return e.onEditReq(t)},delete:function(n){return e.onDelete(t.id)}}})})),1):n("div",{staticClass:"px-4 py-4 text-center bg-gray-200 rounded-lg"},[n("p",{staticClass:"text-gray-600"},[e._v(" No codes were found ")])])]):n("div"),n("form-modal",{attrs:{open:e.showAddModal,"initial-data":e.editing,form:e.form,title:e.editing?"Edit Code":"Add Code"},on:{"update:open":function(t){e.showAddModal=t},input:e.onSubmit}})],1)},i=[],o=(n("4de4"),n("c740"),n("96cf"),n("1da1")),a=n("a8dc"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("div",[n("label",[e._v("Name")]),n("form-input",{model:{value:e.form.input.name,callback:function(t){e.$set(e.form.input,"name",t)},expression:"form.input.name"}}),e.$v.form.input.name.$error?n("ul",{staticClass:"error"},[e.$v.form.input.name.required?e._e():n("li",[e._v(" This field is required. ")])]):e._e()],1),n("div",{staticClass:"mt-4"},[n("label",[e._v("Code")]),n("form-input",{model:{value:e.form.input.code,callback:function(t){e.$set(e.form.input,"code",t)},expression:"form.input.code"}}),e.$v.form.input.code.$error?n("ul",{staticClass:"error"},[e.$v.form.input.code.required?e._e():n("li",[e._v(" This field is required. ")])]):e._e()],1),n("div",{staticClass:"mt-6"},[n("label",[e._v("Active")]),n("form-switch",{model:{value:e.form.input.active,callback:function(t){e.$set(e.form.input,"active",t)},expression:"form.input.active"}})],1),e._m(0)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-6"},[n("button",{attrs:{type:"submit"}},[e._v(" Save ")])])}],u=n("b5ae"),d=n("e49c"),l=n("86f5"),m=n("bf3c"),f={components:{FormInput:l["a"],FormSwitch:m["a"]},mixins:[d["a"]],data:function(){return{form:{input:{name:null,code:null,active:!0}}}},validations:{form:{input:{name:{required:u["required"]},code:{required:u["required"]}}}}},p=f,v=n("2877"),h=Object(v["a"])(p,c,s,!1,null,null,null),b=h.exports,x=n("5a40"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-4 py-6 shadow rounded-lg flex items-center justify-between"},[n("div",{},[n("p",{staticClass:"text-lg font-semibold"},[e._v(" "+e._s(e.code.name)+" ")]),n("p",{staticClass:"text-sm font-medium text-gray-600 mt-1"},[e._v(" "+e._s(e.code.code)+" ")])]),n("div",{staticClass:"flex items-center"},[n("button",{staticClass:"flex items-center py-1 px-1 bg-gray-200 hover:bg-gray-300 outline-none focus:outline-none",on:{click:function(t){return e.$emit("edit")}}},[n("pencil-outline-icon")],1),n("button",{staticClass:"ml-2 flex items-center py-1 px-1 bg-gray-200 hover:bg-gray-300 outline-none focus:outline-none",on:{click:function(t){return e.$emit("delete")}}},[n("trash-can-outline-icon")],1)])])},w=[],C={props:{code:{type:Object}}},_=C,k=Object(v["a"])(_,g,w,!1,null,null,null),y=k.exports,$={components:{FormModal:x["a"],CodeCard:y},data:function(){return{codes:null,form:b,showAddModal:!1,editing:null}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].getCodes();case 3:n=t.sent,r=n.data,e.codes=r,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},methods:{onSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.editing){n.next=5;break}return n.next=3,t.onUpdate(t.editing.id,e);case 3:n.next=7;break;case 5:return n.next=7,t.onAdd(e);case 7:case"end":return n.stop()}}),n)})))()},onAdd:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a["a"].createCode(e);case 3:r=n.sent,i=r.data,t.codes?t.codes.push(i):t.codes=[i],n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},onUpdate:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var i,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a["a"].updateCode(e,t);case 3:i=r.sent,o=i.data,n.editing=null,c=n.codes.findIndex((function(t){return t.id===e})),n.codes[c]=o,r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},onEditReq:function(e){this.editing=e,this.showAddModal=!0},onDelete:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a["a"].deleteCode(e);case 3:r=n.sent,r.data,t.codes=t.codes.filter((function(t){return t.id!==e})),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},head:function(){return{title:"Codes"}}},R=$,j=Object(v["a"])(R,r,i,!1,null,null,null);t["default"]=j.exports}}]);
//# sourceMappingURL=codes.7ec5bd7e.js.map